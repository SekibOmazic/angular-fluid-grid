{"version":3,"file":"fluid-grid.min.js","sources":["../src/fluid-grid.js"],"names":["angular","FluidGridCtrl","fluidGridConfig","extend","this","resizable","draggable","grid","destroy","length","setOptions","options","margins","x","l","parseInt","isNaN","canItemOccupy","item","row","column","sizeX","columns","autoSetItemPosition","rowIndex","maxRows","colIndex","items","getItems","sizeY","putItem","Error","excludeItems","Array","h","w","getItem","indexOf","push","removeItem","index","floatItemsUp","updateHeight","col","putItems","i","ignoreItems","Math","min","max","oldRow","oldColumn","moveOverlappingItems","slice","overlappingItems","moveItemsDown","newRow","sort","a","b","topRows","topRow","rowsToMove","moveItemDown","floating","len","floatItemUp","bestRow","bestColumn","plus","maxHeight","minRows","gridHeight","pixelsToRows","pixels","ceilOrFloor","ceil","curRowHeight","floor","round","pixelsToColumns","curColWidth","FluidGrid","$timeout","$rootScope","$window","restrict","transclude","replace","template","controller","controllerAs","scope","config","compile","$elem","attrs","fluidGrid","resize","width","css","prop","prevWidth","movingItem","loaded","removeClass","refresh","addClass","onResize","$apply","fluidGridClass","fluid-grid","fluid-grid-desktop","isMobile","fluid-grid-mobile","fluid-grid-loaded","previewStyle","display","height","top","outerMargin","left","curWidth","colWidth","rowHeight","mobileBreakPoint","setElementPosition","setElementSizeY","setElementSizeX","$watch","$broadcast","$win","element","on","_width","$on","off","FluidGridItemCtrl","$element","init","defaultSizeX","defaultSizeY","toJSON","isMoving","setPosition","setSize","key","value","toUpperCase","camelCase","titleCase","changed","setSizeY","rows","setSizeX","margin","FluidGridItem","$parse","$document","$compile","require","link","$el","controllers","getDragHandle","handle","querySelector","getResizeHandles","querySelectorAll","setDraggable","mouseDown","e","currentTarget","target","lastMouseX","pageX","lastMouseY","pageY","elmX","elmY","elmW","elmH","originalCol","originalRow","dragStart","bind","mouseMove","mouseUp","preventDefault","stopPropagation","mouseX","mouseY","diffX","mOffX","diffY","mOffY","dX","dY","minLeft","maxLeft","minTop","maxTop","drag","unbind","dragStop","event","start","pushing","itemMoved","stop","dragHandle","enabled","setResizable","handles","forEach","handleClass","originalWidth","originalHeight","resizeStart","hClass","minHeight","minWidth","resizeStop","itemResized","append","domEl","remove","positionChanged","$getters","assign","optionsKey","fluidGridItem","$optionsGetter","aspects","aspectFn","aspect","toLowerCase","newVal","val","dynamicContent","name","content","selector","attr","j","minColumns","module","constant","directive"],"mappings":"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"}